(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=React;var n=e.n(t);const o=vendor.wp.i18n,a=JSON.parse('{"name":"cff/cff-divi5-module","d4Shortcode":"cff_divi","title":"Calculated Fields Form","titles":"Calculated Fields Form","category":"module","moduleClassName":"cff_divi","moduleOrderClassName":"cff_divi","attributes":{"module":{"type":"object","selector":"{{selector}}","default":{"meta":{"adminLabel":{"desktop":{"value":"Calculated Fields Form"}}}},"settings":{"meta":{},"decoration":{}}},"cff_form_id":{"type":"object","selector":"{{selector}} .cff_form_id","attributes":{"class":"cff_form_id"},"tagName":"select","settings":{"innerContent":{"groupType":"group-item","item":{"groupName":"mainContent","priority":10,"render":true,"attrName":"cff_form_id.innerContent","label":"Form ID","description":"Select the Calculated Fields Form","features":{"dynamicContent":false},"component":{"name":"divi/select","type":"field","props":{"options":{}}}}},"decoration":{}}},"cff_class_name":{"type":"object","selector":"{{selector}} .cff_class_name","attributes":{"class":"cff_class_name"},"tagName":"input","inlineEditor":"plainText","settings":{"innerContent":{"groupType":"group-item","item":{"groupName":"mainContent","priority":20,"render":true,"attrName":"cff_class_name.innerContent","label":"Class Name","description":"Custom class name added to the form wrapper","features":{"dynamicContent":false},"component":{"name":"divi/text","type":"field"}}},"decoration":{"bodyFont":{}}}},"cff_attributes":{"type":"object","selector":"{{selector}} .cff_attributes","attributes":{"class":"cff_attributes"},"tagName":"input","inlineEditor":"plainText","settings":{"innerContent":{"groupType":"group-item","item":{"groupName":"mainContent","priority":30,"render":true,"attrName":"cff_attributes.innerContent","label":"Additional Attributes","description":"Add extra HTML attributes (example: data-test=\\"value\\")","features":{"dynamicContent":false},"component":{"name":"divi/text","type":"field"}}},"decoration":{"bodyFont":{}}}},"cff_iframe":{"type":"object","selector":"{{selector}} .cff_iframe","attributes":{"class":"cff_iframe"},"default":{"innerContent":{"desktop":{"value":"off"}}},"settings":{"innerContent":{"groupType":"group-item","item":{"groupName":"mainContent","priority":40,"render":true,"attrName":"cff_iframe.innerContent","label":"Load the Form within an iFrame","description":"Load the form within an iframe tag to keep it separate from the page context","features":{"dynamicContent":false},"component":{"type":"field","name":"divi/toggle","props":{"on":"on","off":"off"}}}},"decoration":{}}}},"settings":{"content":"auto","design":false,"advanced":false}}'),{addAction:r}=window?.vendor?.wp?.hooks,{ModuleContainer:i,StyleContainer:s,elementClassnames:d}=window?.divi?.module,{registerModule:f}=window?.divi?.moduleLibrary,l={metadata:a,renderers:{edit:({attrs:e,id:t,name:a,elements:r})=>{const s=e?.cff_form_id?.innerContent?.desktop?.value,d=e?.cff_class_name?.innerContent?.desktop?.value,f=e?.cff_attributes?.innerContent?.desktop?.value,l=e?.cff_iframe?.innerContent?.desktop?.value,c=parseInt(s)||0,m=(d||"").replace(/[^a-z0-9\-_\s]/gi," ").trim(),p=(f||"").trim();let u="";c>0&&(u=`[CP_CALCULATED_FIELDS id="${c}"`,m&&(u+=` class="${m}"`),p&&(u+=` ${p}`),l&&"on"==l&&(u+=' iframe="1"'),u+="]");let _=cpcff_divi5_preview_url+function(e){var t=wp.shortcode.next("CP_CALCULATED_FIELDS",e).shortcode.attrs.named,n=t.id;for(var o in t)"id"!=o&&(n+="&"+encodeURIComponent("template"==o?"cff-form-attr-template":o)+"="+encodeURIComponent(t[o]));return n}(u);return n().createElement(i,{attrs:e,elements:r,id:t,moduleClassName:"cff-divi5-module",name:a},r.styleComponents({attrName:"module"}),n().createElement("div",{className:"et_pb_module_inner"},c>0?n().createElement("div",{className:"cff-preview-box",style:{padding:"10px",background:"#f0f2f5",border:"1px solid #ddd"}},n().createElement("div",{style:{background:"#fff",padding:"5px",fontFamily:"monospace",marginBottom:"10px"}},n().createElement("strong",null,(0,o.__)("Shortcode","calculated-fields-form"),":")," ",u),n().createElement("div",{class:"cff-iframe-container",id:"cpcff_form_container",style:{position:"relative",background:"#fff"}},n().createElement("div",{class:"cff-iframe-overlay",id:"cpcff_form_overlay",style:{position:"absolute",top:0,right:0,bottom:0,left:0}}),n().createElement("iframe",{id:"cpcff_form_iframe",height:"0",width:"100%",scrolling:"no",src:_}))):n().createElement("div",{className:"cff-warning-box",style:{padding:"20px",background:"#fff3cd",border:"1px solid #ffeeba",color:"#856404"}},"⚠️ ",(0,o.__)("Please select a form from the module settings","calculated-fields-form"))))}},placeholderContent:{cff_form_id:{innerContent:{desktop:{value:0}}},cff_class_name:{innerContent:{desktop:{value:""}}},cff_attributes:{innerContent:{desktop:{value:""}}}}};r("divi.moduleLibrary.registerModuleLibraryStore.after","cff.divi5.module",()=>{l.metadata.attributes.cff_form_id.settings.innerContent.item.component.props.options=window.cff_divi5_forms_list||[],f(l.metadata,l)})})();